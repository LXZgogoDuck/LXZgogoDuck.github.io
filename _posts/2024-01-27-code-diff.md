[//]: # (---)

[//]: # (layout: post)

[//]: # (title: a post with code diff)

[//]: # (date: 2024-01-27 19:22:00)

[//]: # (description: this is how you can display code diffs)

[//]: # (tags: formatting code)

[//]: # (categories: sample-posts)

[//]: # (code_diff: true)

[//]: # (---)

[//]: # ()
[//]: # (You can display diff code by using the regular markdown syntax:)

[//]: # ()
[//]: # (````markdown)

[//]: # (```diff)

[//]: # (diff --git a/sample.js b/sample.js)

[//]: # (index 0000001..0ddf2ba)

[//]: # (--- a/sample.js)

[//]: # (+++ b/sample.js)

[//]: # (@@ -1 +1 @@)

[//]: # (-console.log&#40;"Hello World!"&#41;)

[//]: # (+console.log&#40;"Hello from Diff2Html!"&#41;)

[//]: # (```)

[//]: # (````)

[//]: # ()
[//]: # (Which generates:)

[//]: # ()
[//]: # (```diff)

[//]: # (diff --git a/sample.js b/sample.js)

[//]: # (index 0000001..0ddf2ba)

[//]: # (--- a/sample.js)

[//]: # (+++ b/sample.js)

[//]: # (@@ -1 +1 @@)

[//]: # (-console.log&#40;"Hello World!"&#41;)

[//]: # (+console.log&#40;"Hello from Diff2Html!"&#41;)

[//]: # (```)

[//]: # ()
[//]: # (But this is difficult to read, specially if you have a large diff. You can use [diff2html]&#40;https://diff2html.xyz/&#41; to display a more readable version of the diff. For this, just use `diff2html` instead of `diff` for the code block language:)

[//]: # ()
[//]: # (````markdown)

[//]: # (```diff2html)

[//]: # (diff --git a/sample.js b/sample.js)

[//]: # (index 0000001..0ddf2ba)

[//]: # (--- a/sample.js)

[//]: # (+++ b/sample.js)

[//]: # (@@ -1 +1 @@)

[//]: # (-console.log&#40;"Hello World!"&#41;)

[//]: # (+console.log&#40;"Hello from Diff2Html!"&#41;)

[//]: # (```)

[//]: # (````)

[//]: # ()
[//]: # (If we use a longer example, for example [this commit from diff2html]&#40;https://github.com/rtfpessoa/diff2html/commit/c2c253d3e3f8b8b267f551e659f72b44ca2ac927&#41;, it will generate the following output:)

[//]: # ()
[//]: # (```diff2html)

[//]: # (From 2aaae31cc2a37bfff83430c2c914b140bee59b6a Mon Sep 17 00:00:00 2001)

[//]: # (From: Rodrigo Fernandes <rtfrodrigo@gmail.com>)

[//]: # (Date: Sun, 9 Oct 2016 16:41:54 +0100)

[//]: # (Subject: [PATCH 1/2] Initial template override support)

[//]: # ()
[//]: # (---)

[//]: # ( scripts/hulk.js                    |  4 ++--)

[//]: # ( src/diff2html.js                   |  3 +--)

[//]: # ( src/file-list-printer.js           | 11 ++++++++---)

[//]: # ( src/hoganjs-utils.js               | 29 +++++++++++++++++------------)

[//]: # ( src/html-printer.js                |  6 ++++++)

[//]: # ( src/line-by-line-printer.js        |  6 +++++-)

[//]: # ( src/side-by-side-printer.js        |  6 +++++-)

[//]: # ( test/file-list-printer-tests.js    |  2 +-)

[//]: # ( test/hogan-cache-tests.js          | 18 +++++++++++++++---)

[//]: # ( test/line-by-line-tests.js         |  3 +--)

[//]: # ( test/side-by-side-printer-tests.js |  3 +--)

[//]: # ( 11 files changed, 62 insertions&#40;+&#41;, 29 deletions&#40;-&#41;)

[//]: # ()
[//]: # (diff --git a/scripts/hulk.js b/scripts/hulk.js)

[//]: # (index 5a793c18..a4b1a4d5 100755)

[//]: # (--- a/scripts/hulk.js)

[//]: # (+++ b/scripts/hulk.js)

[//]: # (@@ -173,11 +173,11 @@ function namespace&#40;name&#41; {)

[//]: # ( // write a template foreach file that matches template extension)

[//]: # ( templates = extractFiles&#40;options.argv.remain&#41;)

[//]: # (   .map&#40;function&#40;file&#41; {)

[//]: # (-    var openedFile = fs.readFileSync&#40;file, 'utf-8'&#41;;)

[//]: # (+    var openedFile = fs.readFileSync&#40;file, 'utf-8'&#41;.trim&#40;&#41;;)

[//]: # (     var name;)

[//]: # (     if &#40;!openedFile&#41; return;)

[//]: # (     name = namespace&#40;path.basename&#40;file&#41;.replace&#40;/\..*$/, ''&#41;&#41;;)

[//]: # (-    openedFile = removeByteOrderMark&#40;openedFile.trim&#40;&#41;&#41;;)

[//]: # (+    openedFile = removeByteOrderMark&#40;openedFile&#41;;)

[//]: # (     openedFile = wrap&#40;file, name, openedFile&#41;;)

[//]: # (     if &#40;!options.outputdir&#41; return openedFile;)

[//]: # (     fs.writeFileSync&#40;path.join&#40;options.outputdir, name + '.js'&#41;)

[//]: # (diff --git a/src/diff2html.js b/src/diff2html.js)

[//]: # (index 21b0119e..64e138f5 100644)

[//]: # (--- a/src/diff2html.js)

[//]: # (+++ b/src/diff2html.js)

[//]: # (@@ -7,7 +7,6 @@)

[//]: # ()
[//]: # ( &#40;function&#40;&#41; {)

[//]: # (   var diffParser = require&#40;'./diff-parser.js'&#41;.DiffParser;)

[//]: # (-  var fileLister = require&#40;'./file-list-printer.js'&#41;.FileListPrinter;)

[//]: # (   var htmlPrinter = require&#40;'./html-printer.js'&#41;.HtmlPrinter;)

[//]: # ()
[//]: # (   function Diff2Html&#40;&#41; {)

[//]: # (@@ -43,7 +42,7 @@)

[//]: # ()
[//]: # (     var fileList = '';)

[//]: # (     if &#40;configOrEmpty.showFiles === true&#41; {)

[//]: # (-      fileList = fileLister.generateFileList&#40;diffJson, configOrEmpty&#41;;)

[//]: # (+      fileList = htmlPrinter.generateFileListSummary&#40;diffJson, configOrEmpty&#41;;)

[//]: # (     })

[//]: # ()
[//]: # (     var diffOutput = '';)

[//]: # (diff --git a/src/file-list-printer.js b/src/file-list-printer.js)

[//]: # (index e408d9b2..1e0a2c61 100644)

[//]: # (--- a/src/file-list-printer.js)

[//]: # (+++ b/src/file-list-printer.js)

[//]: # (@@ -8,11 +8,16 @@)

[//]: # ( &#40;function&#40;&#41; {)

[//]: # (   var printerUtils = require&#40;'./printer-utils.js'&#41;.PrinterUtils;)

[//]: # ()
[//]: # (-  var hoganUtils = require&#40;'./hoganjs-utils.js'&#41;.HoganJsUtils;)

[//]: # (+  var hoganUtils;)

[//]: # (+)

[//]: # (   var baseTemplatesPath = 'file-summary';)

[//]: # (   var iconsBaseTemplatesPath = 'icon';)

[//]: # ()
[//]: # (-  function FileListPrinter&#40;&#41; {)

[//]: # (+  function FileListPrinter&#40;config&#41; {)

[//]: # (+    this.config = config;)

[//]: # (+)

[//]: # (+    var HoganJsUtils = require&#40;'./hoganjs-utils.js'&#41;.HoganJsUtils;)

[//]: # (+    hoganUtils = new HoganJsUtils&#40;config&#41;;)

[//]: # (   })

[//]: # ()
[//]: # (   FileListPrinter.prototype.generateFileList = function&#40;diffFiles&#41; {)

[//]: # (@@ -38,5 +43,5 @@)

[//]: # (     }&#41;;)

[//]: # (   };)

[//]: # ()
[//]: # (-  module.exports.FileListPrinter = new FileListPrinter&#40;&#41;;)

[//]: # (+  module.exports.FileListPrinter = FileListPrinter;)

[//]: # ( }&#41;&#40;&#41;;)

[//]: # (diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js)

[//]: # (index 9949e5fa..0dda08d7 100644)

[//]: # (--- a/src/hoganjs-utils.js)

[//]: # (+++ b/src/hoganjs-utils.js)

[//]: # (@@ -8,18 +8,19 @@)

[//]: # ( &#40;function&#40;&#41; {)

[//]: # (   var fs = require&#40;'fs'&#41;;)

[//]: # (   var path = require&#40;'path'&#41;;)

[//]: # (-)

[//]: # (   var hogan = require&#40;'hogan.js'&#41;;)

[//]: # ()
[//]: # (   var hoganTemplates = require&#40;'./templates/diff2html-templates.js'&#41;;)

[//]: # ()
[//]: # (-  var templatesPath = path.resolve&#40;__dirname, 'templates'&#41;;)

[//]: # (+  var extraTemplates;)

[//]: # ()
[//]: # (-  function HoganJsUtils&#40;&#41; {)

[//]: # (+  function HoganJsUtils&#40;configuration&#41; {)

[//]: # (+    this.config = configuration || {};)

[//]: # (+    extraTemplates = this.config.templates || {};)

[//]: # (   })

[//]: # ()
[//]: # (-  HoganJsUtils.prototype.render = function&#40;namespace, view, params, configuration&#41; {)

[//]: # (-    var template = this.template&#40;namespace, view, configuration&#41;;)

[//]: # (+  HoganJsUtils.prototype.render = function&#40;namespace, view, params&#41; {)

[//]: # (+    var template = this.template&#40;namespace, view&#41;;)

[//]: # (     if &#40;template&#41; {)

[//]: # (       return template.render&#40;params&#41;;)

[//]: # (     })

[//]: # (@@ -27,17 +28,16 @@)

[//]: # (     return null;)

[//]: # (   };)

[//]: # ()
[//]: # (-  HoganJsUtils.prototype.template = function&#40;namespace, view, configuration&#41; {)

[//]: # (-    var config = configuration || {};)

[//]: # (+  HoganJsUtils.prototype.template = function&#40;namespace, view&#41; {)

[//]: # (     var templateKey = this._templateKey&#40;namespace, view&#41;;)

[//]: # ()
[//]: # (-    return this._getTemplate&#40;templateKey, config&#41;;)

[//]: # (+    return this._getTemplate&#40;templateKey&#41;;)

[//]: # (   };)

[//]: # ()
[//]: # (-  HoganJsUtils.prototype._getTemplate = function&#40;templateKey, config&#41; {)

[//]: # (+  HoganJsUtils.prototype._getTemplate = function&#40;templateKey&#41; {)

[//]: # (     var template;)

[//]: # ()
[//]: # (-    if &#40;!config.noCache&#41; {)

[//]: # (+    if &#40;!this.config.noCache&#41; {)

[//]: # (       template = this._readFromCache&#40;templateKey&#41;;)

[//]: # (     })

[//]: # ()
[//]: # (@@ -53,6 +53,7 @@)

[//]: # ()
[//]: # (     try {)

[//]: # (       if &#40;fs.readFileSync&#41; {)

[//]: # (+        var templatesPath = path.resolve&#40;__dirname, 'templates'&#41;;)

[//]: # (         var templatePath = path.join&#40;templatesPath, templateKey&#41;;)

[//]: # (         var templateContent = fs.readFileSync&#40;templatePath + '.mustache', 'utf8'&#41;;)

[//]: # (         template = hogan.compile&#40;templateContent&#41;;)

[//]: # (@@ -66,12 +67,16 @@)

[//]: # (   };)

[//]: # ()
[//]: # (   HoganJsUtils.prototype._readFromCache = function&#40;templateKey&#41; {)

[//]: # (-    return hoganTemplates[templateKey];)

[//]: # (+    return extraTemplates[templateKey] || hoganTemplates[templateKey];)

[//]: # (   };)

[//]: # ()
[//]: # (   HoganJsUtils.prototype._templateKey = function&#40;namespace, view&#41; {)

[//]: # (     return namespace + '-' + view;)

[//]: # (   };)

[//]: # ()
[//]: # (-  module.exports.HoganJsUtils = new HoganJsUtils&#40;&#41;;)

[//]: # (+  HoganJsUtils.prototype.compile = function&#40;templateStr&#41; {)

[//]: # (+    return hogan.compile&#40;templateStr&#41;;)

[//]: # (+  };)

[//]: # (+)

[//]: # (+  module.exports.HoganJsUtils = HoganJsUtils;)

[//]: # ( }&#41;&#40;&#41;;)

[//]: # (diff --git a/src/html-printer.js b/src/html-printer.js)

[//]: # (index 585d5b66..13f83047 100644)

[//]: # (--- a/src/html-printer.js)

[//]: # (+++ b/src/html-printer.js)

[//]: # (@@ -8,6 +8,7 @@)

[//]: # ( &#40;function&#40;&#41; {)

[//]: # (   var LineByLinePrinter = require&#40;'./line-by-line-printer.js'&#41;.LineByLinePrinter;)

[//]: # (   var SideBySidePrinter = require&#40;'./side-by-side-printer.js'&#41;.SideBySidePrinter;)

[//]: # (+  var FileListPrinter = require&#40;'./file-list-printer.js'&#41;.FileListPrinter;)

[//]: # ()
[//]: # (   function HtmlPrinter&#40;&#41; {)

[//]: # (   })

[//]: # (@@ -22,5 +23,10 @@)

[//]: # (     return sideBySidePrinter.generateSideBySideJsonHtml&#40;diffFiles&#41;;)

[//]: # (   };)

[//]: # ()
[//]: # (+  HtmlPrinter.prototype.generateFileListSummary = function&#40;diffJson, config&#41; {)

[//]: # (+    var fileListPrinter = new FileListPrinter&#40;config&#41;;)

[//]: # (+    return fileListPrinter.generateFileList&#40;diffJson&#41;;)

[//]: # (+  };)

[//]: # (+)

[//]: # (   module.exports.HtmlPrinter = new HtmlPrinter&#40;&#41;;)

[//]: # ( }&#41;&#40;&#41;;)

[//]: # (diff --git a/src/line-by-line-printer.js b/src/line-by-line-printer.js)

[//]: # (index b07eb53c..d230bedd 100644)

[//]: # (--- a/src/line-by-line-printer.js)

[//]: # (+++ b/src/line-by-line-printer.js)

[//]: # (@@ -11,7 +11,8 @@)

[//]: # (   var utils = require&#40;'./utils.js'&#41;.Utils;)

[//]: # (   var Rematch = require&#40;'./rematch.js'&#41;.Rematch;)

[//]: # ()
[//]: # (-  var hoganUtils = require&#40;'./hoganjs-utils.js'&#41;.HoganJsUtils;)

[//]: # (+  var hoganUtils;)

[//]: # (+)

[//]: # (   var genericTemplatesPath = 'generic';)

[//]: # (   var baseTemplatesPath = 'line-by-line';)

[//]: # (   var iconsBaseTemplatesPath = 'icon';)

[//]: # (@@ -19,6 +20,9 @@)

[//]: # ()
[//]: # (   function LineByLinePrinter&#40;config&#41; {)

[//]: # (     this.config = config;)

[//]: # (+)

[//]: # (+    var HoganJsUtils = require&#40;'./hoganjs-utils.js'&#41;.HoganJsUtils;)

[//]: # (+    hoganUtils = new HoganJsUtils&#40;config&#41;;)

[//]: # (   })

[//]: # ()
[//]: # (   LineByLinePrinter.prototype.makeFileDiffHtml = function&#40;file, diffs&#41; {)

[//]: # (diff --git a/src/side-by-side-printer.js b/src/side-by-side-printer.js)

[//]: # (index bbf1dc8d..5e3033b3 100644)

[//]: # (--- a/src/side-by-side-printer.js)

[//]: # (+++ b/src/side-by-side-printer.js)

[//]: # (@@ -11,7 +11,8 @@)

[//]: # (   var utils = require&#40;'./utils.js'&#41;.Utils;)

[//]: # (   var Rematch = require&#40;'./rematch.js'&#41;.Rematch;)

[//]: # ()
[//]: # (-  var hoganUtils = require&#40;'./hoganjs-utils.js'&#41;.HoganJsUtils;)

[//]: # (+  var hoganUtils;)

[//]: # (+)

[//]: # (   var genericTemplatesPath = 'generic';)

[//]: # (   var baseTemplatesPath = 'side-by-side';)

[//]: # (   var iconsBaseTemplatesPath = 'icon';)

[//]: # (@@ -26,6 +27,9 @@)

[//]: # ()
[//]: # (   function SideBySidePrinter&#40;config&#41; {)

[//]: # (     this.config = config;)

[//]: # (+)

[//]: # (+    var HoganJsUtils = require&#40;'./hoganjs-utils.js'&#41;.HoganJsUtils;)

[//]: # (+    hoganUtils = new HoganJsUtils&#40;config&#41;;)

[//]: # (   })

[//]: # ()
[//]: # (   SideBySidePrinter.prototype.makeDiffHtml = function&#40;file, diffs&#41; {)

[//]: # (diff --git a/test/file-list-printer-tests.js b/test/file-list-printer-tests.js)

[//]: # (index a502a46f..60ea3208 100644)

[//]: # (--- a/test/file-list-printer-tests.js)

[//]: # (+++ b/test/file-list-printer-tests.js)

[//]: # (@@ -1,6 +1,6 @@)

[//]: # ( var assert = require&#40;'assert'&#41;;)

[//]: # ()
[//]: # (-var fileListPrinter = require&#40;'../src/file-list-printer.js'&#41;.FileListPrinter;)

[//]: # (+var fileListPrinter = new &#40;require&#40;'../src/file-list-printer.js'&#41;.FileListPrinter&#41;&#40;&#41;;)

[//]: # ()
[//]: # ( describe&#40;'FileListPrinter', function&#40;&#41; {)

[//]: # (   describe&#40;'generateFileList', function&#40;&#41; {)

[//]: # (diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js)

[//]: # (index 190bf6f8..3bb754ac 100644)

[//]: # (--- a/test/hogan-cache-tests.js)

[//]: # (+++ b/test/hogan-cache-tests.js)

[//]: # (@@ -1,6 +1,6 @@)

[//]: # ( var assert = require&#40;'assert'&#41;;)

[//]: # ()
[//]: # (-var HoganJsUtils = require&#40;'../src/hoganjs-utils.js'&#41;.HoganJsUtils;)

[//]: # (+var HoganJsUtils = new &#40;require&#40;'../src/hoganjs-utils.js'&#41;.HoganJsUtils&#41;&#40;&#41;;)

[//]: # ( var diffParser = require&#40;'../src/diff-parser.js'&#41;.DiffParser;)

[//]: # ()
[//]: # ( describe&#40;'HoganJsUtils', function&#40;&#41; {)

[//]: # (@@ -21,16 +21,28 @@ describe&#40;'HoganJsUtils', function&#40;&#41; {)

[//]: # (       }&#41;;)

[//]: # (       assert.equal&#40;emptyDiffHtml, result&#41;;)

[//]: # (     }&#41;;)

[//]: # (+)

[//]: # (     it&#40;'should render view without cache', function&#40;&#41; {)

[//]: # (       var result = HoganJsUtils.render&#40;'generic', 'empty-diff', {)

[//]: # (         contentClass: 'd2h-code-line',)

[//]: # (         diffParser: diffParser)

[//]: # (       }, {noCache: true}&#41;;)

[//]: # (-      assert.equal&#40;emptyDiffHtml + '\n', result&#41;;)

[//]: # (+      assert.equal&#40;emptyDiffHtml, result&#41;;)

[//]: # (     }&#41;;)

[//]: # (+)

[//]: # (     it&#40;'should return null if template is missing', function&#40;&#41; {)

[//]: # (-      var result = HoganJsUtils.render&#40;'generic', 'missing-template', {}, {noCache: true}&#41;;)

[//]: # (+      var hoganUtils = new &#40;require&#40;'../src/hoganjs-utils.js'&#41;.HoganJsUtils&#41;&#40;{noCache: true}&#41;;)

[//]: # (+      var result = hoganUtils.render&#40;'generic', 'missing-template', {}&#41;;)

[//]: # (       assert.equal&#40;null, result&#41;;)

[//]: # (     }&#41;;)

[//]: # (+)

[//]: # (+    it&#40;'should allow templates to be overridden', function&#40;&#41; {)

[//]: # (+      var emptyDiffTemplate = HoganJsUtils.compile&#40;'<p>{{myName}}</p>'&#41;;)

[//]: # (+)

[//]: # (+      var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};)

[//]: # (+      var hoganUtils = new &#40;require&#40;'../src/hoganjs-utils.js'&#41;.HoganJsUtils&#41;&#40;config&#41;;)

[//]: # (+      var result = hoganUtils.render&#40;'generic', 'empty-diff', {myName: 'Rodrigo Fernandes'}&#41;;)

[//]: # (+      assert.equal&#40;'<p>Rodrigo Fernandes</p>', result&#41;;)

[//]: # (+    }&#41;;)

[//]: # (   }&#41;;)

[//]: # ( }&#41;;)

[//]: # (diff --git a/test/line-by-line-tests.js b/test/line-by-line-tests.js)

[//]: # (index 1cd92073..8869b3df 100644)

[//]: # (--- a/test/line-by-line-tests.js)

[//]: # (+++ b/test/line-by-line-tests.js)

[//]: # (@@ -14,7 +14,7 @@ describe&#40;'LineByLinePrinter', function&#40;&#41; {)

[//]: # (         '            File without changes\n' +)

[//]: # (         '        </div>\n' +)

[//]: # (         '    </td>\n' +)

[//]: # (-        '</tr>\n';)

[//]: # (+        '</tr>';)

[//]: # ()
[//]: # (       assert.equal&#40;expected, fileHtml&#41;;)

[//]: # (     }&#41;;)

[//]: # (@@ -422,7 +422,6 @@ describe&#40;'LineByLinePrinter', function&#40;&#41; {)

[//]: # (         '        </div>\n' +)

[//]: # (         '    </td>\n' +)

[//]: # (         '</tr>\n' +)

[//]: # (-        '\n' +)

[//]: # (         '                </tbody>\n' +)

[//]: # (         '            </table>\n' +)

[//]: # (         '        </div>\n' +)

[//]: # (diff --git a/test/side-by-side-printer-tests.js b/test/side-by-side-printer-tests.js)

[//]: # (index 76625f8e..771daaa5 100644)

[//]: # (--- a/test/side-by-side-printer-tests.js)

[//]: # (+++ b/test/side-by-side-printer-tests.js)

[//]: # (@@ -14,7 +14,7 @@ describe&#40;'SideBySidePrinter', function&#40;&#41; {)

[//]: # (         '            File without changes\n' +)

[//]: # (         '        </div>\n' +)

[//]: # (         '    </td>\n' +)

[//]: # (-        '</tr>\n';)

[//]: # (+        '</tr>';)

[//]: # ()
[//]: # (       assert.equal&#40;expectedRight, fileHtml.right&#41;;)

[//]: # (       assert.equal&#40;expectedLeft, fileHtml.left&#41;;)

[//]: # (@@ -324,7 +324,6 @@ describe&#40;'SideBySidePrinter', function&#40;&#41; {)

[//]: # (         '        </div>\n' +)

[//]: # (         '    </td>\n' +)

[//]: # (         '</tr>\n' +)

[//]: # (-        '\n' +)

[//]: # (         '                    </tbody>\n' +)

[//]: # (         '                </table>\n' +)

[//]: # (         '            </div>\n' +)

[//]: # ()
[//]: # (From f3cadb96677d0eb82fc2752dc3ffbf35ca9b5bdb Mon Sep 17 00:00:00 2001)

[//]: # (From: Rodrigo Fernandes <rtfrodrigo@gmail.com>)

[//]: # (Date: Sat, 15 Oct 2016 13:21:22 +0100)

[//]: # (Subject: [PATCH 2/2] Allow uncompiled templates)

[//]: # ()
[//]: # (---)

[//]: # ( README.md                 |  3 +++)

[//]: # ( src/hoganjs-utils.js      |  7 +++++++)

[//]: # ( test/hogan-cache-tests.js | 24 +++++++++++++++++++++++-)

[//]: # ( 3 files changed, 33 insertions&#40;+&#41;, 1 deletion&#40;-&#41;)

[//]: # ()
[//]: # (diff --git a/README.md b/README.md)

[//]: # (index 132c8a28..46909f25 100644)

[//]: # (--- a/README.md)

[//]: # (+++ b/README.md)

[//]: # (@@ -98,6 +98,9 @@ The HTML output accepts a Javascript object with configuration. Possible options)

[//]: # (   - `synchronisedScroll`: scroll both panes in side-by-side mode: `true` or `false`, default is `false`)

[//]: # (   - `matchWordsThreshold`: similarity threshold for word matching, default is 0.25)

[//]: # (   - `matchingMaxComparisons`: perform at most this much comparisons for line matching a block of changes, default is `2500`)

[//]: # (+  - `templates`: object with previously compiled templates to replace parts of the html)

[//]: # (+  - `rawTemplates`: object with raw not compiled templates to replace parts of the html)

[//]: # (+  > For more information regarding the possible templates look into [src/templates]&#40;https://github.com/rtfpessoa/diff2html/tree/master/src/templates&#41;)

[//]: # ()
[//]: # ( ## Diff2HtmlUI Helper)

[//]: # ()
[//]: # (diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js)

[//]: # (index 0dda08d7..b2e9c275 100644)

[//]: # (--- a/src/hoganjs-utils.js)

[//]: # (+++ b/src/hoganjs-utils.js)

[//]: # (@@ -17,6 +17,13 @@)

[//]: # (   function HoganJsUtils&#40;configuration&#41; {)

[//]: # (     this.config = configuration || {};)

[//]: # (     extraTemplates = this.config.templates || {};)

[//]: # (+)

[//]: # (+    var rawTemplates = this.config.rawTemplates || {};)

[//]: # (+    for &#40;var templateName in rawTemplates&#41; {)

[//]: # (+      if &#40;rawTemplates.hasOwnProperty&#40;templateName&#41;&#41; {)

[//]: # (+        if &#40;!extraTemplates[templateName]&#41; extraTemplates[templateName] = this.compile&#40;rawTemplates[templateName]&#41;;)

[//]: # (+      })

[//]: # (+    })

[//]: # (   })

[//]: # ()
[//]: # (   HoganJsUtils.prototype.render = function&#40;namespace, view, params&#41; {)

[//]: # (diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js)

[//]: # (index 3bb754ac..a34839c0 100644)

[//]: # (--- a/test/hogan-cache-tests.js)

[//]: # (+++ b/test/hogan-cache-tests.js)

[//]: # (@@ -36,7 +36,7 @@ describe&#40;'HoganJsUtils', function&#40;&#41; {)

[//]: # (       assert.equal&#40;null, result&#41;;)

[//]: # (     }&#41;;)

[//]: # ()
[//]: # (-    it&#40;'should allow templates to be overridden', function&#40;&#41; {)

[//]: # (+    it&#40;'should allow templates to be overridden with compiled templates', function&#40;&#41; {)

[//]: # (       var emptyDiffTemplate = HoganJsUtils.compile&#40;'<p>{{myName}}</p>'&#41;;)

[//]: # ()
[//]: # (       var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};)

[//]: # (@@ -44,5 +44,27 @@ describe&#40;'HoganJsUtils', function&#40;&#41; {)

[//]: # (       var result = hoganUtils.render&#40;'generic', 'empty-diff', {myName: 'Rodrigo Fernandes'}&#41;;)

[//]: # (       assert.equal&#40;'<p>Rodrigo Fernandes</p>', result&#41;;)

[//]: # (     }&#41;;)

[//]: # (+)

[//]: # (+    it&#40;'should allow templates to be overridden with uncompiled templates', function&#40;&#41; {)

[//]: # (+      var emptyDiffTemplate = '<p>{{myName}}</p>';)

[//]: # (+)

[//]: # (+      var config = {rawTemplates: {'generic-empty-diff': emptyDiffTemplate}};)

[//]: # (+      var hoganUtils = new &#40;require&#40;'../src/hoganjs-utils.js'&#41;.HoganJsUtils&#41;&#40;config&#41;;)

[//]: # (+      var result = hoganUtils.render&#40;'generic', 'empty-diff', {myName: 'Rodrigo Fernandes'}&#41;;)

[//]: # (+      assert.equal&#40;'<p>Rodrigo Fernandes</p>', result&#41;;)

[//]: # (+    }&#41;;)

[//]: # (+)

[//]: # (+    it&#40;'should allow templates to be overridden giving priority to compiled templates', function&#40;&#41; {)

[//]: # (+      var emptyDiffTemplate = HoganJsUtils.compile&#40;'<p>{{myName}}</p>'&#41;;)

[//]: # (+      var emptyDiffTemplateUncompiled = '<p>Not used!</p>';)

[//]: # (+)

[//]: # (+      var config = {)

[//]: # (+        templates: {'generic-empty-diff': emptyDiffTemplate},)

[//]: # (+        rawTemplates: {'generic-empty-diff': emptyDiffTemplateUncompiled})

[//]: # (+      };)

[//]: # (+      var hoganUtils = new &#40;require&#40;'../src/hoganjs-utils.js'&#41;.HoganJsUtils&#41;&#40;config&#41;;)

[//]: # (+      var result = hoganUtils.render&#40;'generic', 'empty-diff', {myName: 'Rodrigo Fernandes'}&#41;;)

[//]: # (+      assert.equal&#40;'<p>Rodrigo Fernandes</p>', result&#41;;)

[//]: # (+    }&#41;;)

[//]: # (   }&#41;;)

[//]: # ( }&#41;;)

[//]: # (```)
